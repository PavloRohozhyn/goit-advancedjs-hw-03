{"version":3,"file":"index.js","sources":["../src/js/consts.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const API_KEY = '49335646-80c9a1e6c5c5033cc7f2a4c93',\n  baseUrl = 'https://pixabay.com/api/';\n","import { API_KEY, baseUrl } from './consts';\n\nconst getData = search => {\n  search = search.lenght ? search : '';\n  const opt = {\n    key: API_KEY,\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return fetch(baseUrl + '?' + new URLSearchParams(opt));\n};\n\nexport default getData;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst render = data => {\n  if (data && data.total > 0) {\n    showLoader(false);\n\n    console.log(data);\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = data.hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          // likes,\n          // views,\n          // comments,\n          // downloads,\n        }) => `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"350\"\n                height=\"290\"\n            />\n            </a>\n          </li>`\n      )\n      .join('');\n\n    // include slider\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt', // Use the alt attribute of images for captions\n      captionDelay: 250, // Delay in milliseconds before showing the caption\n    });\n  } else {\n    console.log('no data yet');\n  }\n};\n\nconst showLoader = (flag = true) => {\n  const el = document.querySelector('div#loader');\n  flag ? el.classList.add('loader') : el.classList.remove('loader');\n};\n\nexport { render, showLoader };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport getData from './js/pixabay-api';\nimport { render, showLoader } from './js/render-functions';\n\n// remove loader\nshowLoader(false);\n\ndocument.querySelector('.form').addEventListener('submit', event => {\n  event.preventDefault();\n  showLoader(true);\n  document.querySelector('ul.gallery').innerHTML = ''; // clear content\n  const formData = new FormData(event.target);\n  const formProps = Object.fromEntries(formData);\n  const main = document.querySelector('#loader');\n  getData(formProps.search)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Server response fail');\n      }\n      return res.json();\n    })\n    .then(res => {\n      main.innerHtml = render(res);\n    })\n    .catch(e => {\n      console.log(e);\n      showLoader(false);\n    });\n});\n"],"names":["API_KEY","baseUrl","getData","search","opt","render","data","showLoader","gallery","webformatURL","largeImageURL","tags","SimpleLightbox","flag","el","event","formData","formProps","main","res"],"mappings":"svBAAO,MAAMA,EAAU,qCACrBC,EAAU,2BCCNC,EAAUC,GAAU,CACxBA,EAASA,EAAO,OAASA,EAAS,GAClC,MAAMC,EAAM,CACV,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACE,OAAO,MAAMF,EAAU,IAAM,IAAI,gBAAgBG,CAAG,CAAC,CACvD,ECTMC,EAASC,GAAQ,CACrB,GAAIA,GAAQA,EAAK,MAAQ,EAAG,CAC1BC,EAAW,EAAK,EAEhB,QAAQ,IAAID,CAAI,EAChB,MAAME,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYF,EAAK,KACtB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,CAKV,IAAc;AAAA;AAAA,4CAE8BD,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMpB,EACA,KAAK,EAAE,EAGO,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,CACL,MACI,QAAQ,IAAI,aAAa,CAE7B,EAEML,EAAa,CAACM,EAAO,KAAS,CAClC,MAAMC,EAAK,SAAS,cAAc,YAAY,EAC9CD,EAAOC,EAAG,UAAU,IAAI,QAAQ,EAAIA,EAAG,UAAU,OAAO,QAAQ,CAClE,ECzCAP,EAAW,EAAK,EAEhB,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAUQ,GAAS,CAClEA,EAAM,eAAc,EACpBR,EAAW,EAAI,EACf,SAAS,cAAc,YAAY,EAAE,UAAY,GACjD,MAAMS,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCE,EAAY,OAAO,YAAYD,CAAQ,EACvCE,EAAO,SAAS,cAAc,SAAS,EAC7ChB,EAAQe,EAAU,MAAM,EACrB,KAAKE,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKA,GAAO,CACXD,EAAK,UAAYb,EAAOc,CAAG,CACjC,CAAK,EACA,MAAM,GAAK,CACV,QAAQ,IAAI,CAAC,EACbZ,EAAW,EAAK,CACtB,CAAK,CACL,CAAC"}